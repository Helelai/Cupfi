{"version":3,"file":"useTab.js","sourceRoot":"../../../../../src","sources":["components/tabs/hooks/useTab.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAC,OAAO,EAAC,8BAA2B;AAC3C,OAAO,EAAC,cAAc,EAAC,sCAAmC;AAC1D,OAAO,EAAC,kBAAkB,EAAE,IAAI,EAAC,wBAAqB;AACtD,OAAO,EAAC,UAAU,EAAC,kCAA+B;AAGlD,MAAM,UAAU,MAAM,CAAC,QAAkB;IACrC,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;IAEhD,IAAI,CAAC,UAAU,EAAE,CAAC;QACd,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;IAC3D,CAAC;IAED,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC;IACtC,MAAM,KAAK,GAAG,GAAG,UAAU,CAAC,EAAE,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC;IACrD,MAAM,OAAO,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;IAE3F,MAAM,UAAU,GAAG,YAAY,KAAK,QAAQ,CAAC,KAAK,CAAC;IACnD,MAAM,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC;IACrC,MAAM,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;IAEvC,MAAM,OAAO,GAAG,GAAG,EAAE;QACjB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACrB,UAAU,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,SAAS,GAAG,CAAC,KAA0B,EAAE,EAAE;QAC7C,IAAI,CAAC,KAAK,CAAC,GAAG,KAAK,OAAO,CAAC,QAAQ,IAAI,KAAK,CAAC,GAAG,KAAK,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACxF,UAAU,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC,CAAC;IAEF,OAAO;QACH,IAAI,EAAE,KAAK;QACX,eAAe,EAAE,UAAU;QAC3B,eAAe,EAAE,UAAU;QAC3B,eAAe,EAAE,OAAO;QACxB,EAAE,EAAE,KAAK;QACT,QAAQ,EAAE,UAAU,IAAI,CAAC,UAAU,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,OAAO;QACP,SAAS;QACT,KAAK,EAAE,QAAQ,CAAC,KAAK;QACrB,KAAK,EAAE,QAAQ,CAAC,KAAK;QACrB,SAAS,EAAE,IAAI,CAAC,EAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAC,EAAE,QAAQ,CAAC,SAAS,CAAC;QAC/E,SAAS,EAAE,QAAQ,CAAC,EAAE;QACtB,CAAC,kBAAkB,CAAC,EAAE,QAAQ,CAAC,KAAK;QACpC,GAAG,cAAc,CAAC,QAAQ,EAAE,EAAC,SAAS,EAAE,IAAI,EAAC,CAAC;KACjD,CAAC;AACN,CAAC","sourcesContent":["import * as React from 'react';\n\nimport {KeyCode} from '../../../constants';\nimport {filterDOMProps} from '../../utils/filterDOMProps';\nimport {TAB_DATA_ATTRIBUTE, bTab} from '../constants';\nimport {TabContext} from '../contexts/TabContext';\nimport type {TabProps} from '../types';\n\nexport function useTab(tabProps: TabProps) {\n    const tabContext = React.useContext(TabContext);\n\n    if (!tabContext) {\n        throw new Error('<Tab> must be used within <TabList>');\n    }\n\n    const currentValue = tabContext.value;\n    const tabId = `${tabContext.id}:t:${tabProps.value}`;\n    const panelId = tabContext.isProvider ? `${tabContext.id}:p:${tabProps.value}` : undefined;\n\n    const isSelected = currentValue === tabProps.value;\n    const isDisabled = tabProps.disabled;\n    const isFocused = tabContext.isFocused;\n\n    const onClick = () => {\n        if (!tabProps.disabled) {\n            tabContext.onUpdate?.(tabProps.value);\n        }\n    };\n\n    const onKeyDown = (event: React.KeyboardEvent) => {\n        if ((event.key === KeyCode.SPACEBAR || event.key === KeyCode.ENTER) && !tabProps.disabled) {\n            tabContext.onUpdate?.(tabProps.value);\n        }\n    };\n\n    return {\n        role: 'tab',\n        'aria-selected': isSelected,\n        'aria-disabled': isDisabled,\n        'aria-controls': panelId,\n        id: tabId,\n        tabIndex: isSelected && !isDisabled && !isFocused ? 0 : -1,\n        onClick,\n        onKeyDown,\n        title: tabProps.title,\n        style: tabProps.style,\n        className: bTab({active: isSelected, disabled: isDisabled}, tabProps.className),\n        'data-qa': tabProps.qa,\n        [TAB_DATA_ATTRIBUTE]: tabProps.value,\n        ...filterDOMProps(tabProps, {labelable: true}),\n    };\n}\n"]}